# 洛谷-P1161 开灯

> 原题链接：https://www.luogu.com.cn/problem/P1161

- [题目描述](#题目描述)
- [输入格式](#输入格式)
- [输出格式](#输出格式)
- [输入输出样例](#输入输出样例)
- [说明/提示](#说明/提示)
- [C++代码](#C++代码)

---

### <a name="题目描述">题目描述</a>

在一条无限长的路上，有一排无限长的路灯，编号为$1,2,3,4,…$。

每一盏灯只有两种可能的状态，开或者关。如果按一下某一盏灯的开关，那么这盏灯的状态将发生改变。如果原来是开，将变成关。如果原来是关，将变成开。

在刚开始的时候，所有的灯都是关的。小明每次可以进行如下的操作：

指定两个数，$a,t$（$a$为实数，$t$为正整数）。将编号为$[a],[2 \times a],[3 \times a],…,[t  \times a]$的灯的开关各按一次。其中$[k]$表示实数$k$的整数部分。

在小明进行了$n$次操作后，小明突然发现，这个时候只有一盏灯是开的，小明很想知道这盏灯的编号，可是这盏灯离小明太远了，小明看不清编号是多少。

幸好，小明还记得之前的$n$次操作。于是小明找到了你，你能帮他计算出这盏开着的灯的编号吗？

### <a name="输入格式">输入格式</a>

第一行一个正整数$n$，表示$n$次操作。

接下来有$n$行，每行两个数，$a_i,t_i$。其中$a_i$是实数，小数点后一定有$6$位，$t_i$是正整数。

### <a name="输出格式">输出格式</a>

仅一个正整数，那盏开着的灯的编号。

### <a name="输入输出样例">输入输出样例</a>

#### 输入 #1

```c++
3
1.618034 13
2.618034 7
1.000000 21
```

#### 输出 #1

```c++
20
```

### <a name="说明/提示">说明/提示</a>

记$T=t_1+t_2+t_3+…+t_n$。

对于$30\%$的数据，满足$T \le 1000$

对于$80\%$的数据，满足$T \le 200000$

对于$100\%$的数据，满足$T \le 2000000$

对于$100\%$的数据，满足$n \le 5000,1 \le a_i<1000,1 \le t_i \le T$

数据保证，在经过$n$次操作后，有且只有一盏灯是开的，不必判错。而且对于所有的 $i$ 来说，$t_i\times a_i$ 的最大值不超过 2000000。

### <a name="C++代码">C++代码</a>

```c++
#include <iostream>
using namespace std;

int f[2000001];

int main() {
    int n, pos;
    cin >> n;
    double a[n];
    int t[n];
    for (int i=0; i<n; ++i)
        cin >> a[i] >> t[i];
    for (int i=0; i<n; ++i)
        for (int j=1; j<=t[i]; ++j) {
            pos = int(j*a[i]);
            f[pos]=f[pos]?0:1;
        }
    for (pos=1;!f[pos];++pos);
    cout << pos << endl;
    return 0;
}
```