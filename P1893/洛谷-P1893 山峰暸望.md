# 洛谷-P1893 山峰暸望

> 原题链接：https://www.luogu.com.cn/problem/P1893

- [题目描述](#题目描述)
- [输入格式](#输入格式)
- [输出格式](#输出格式)
- [输入输出样例](#输入输出样例)
- [说明/提示](#说明/提示)
- [C++代码](#C++代码)

---

### <a name="题目描述">题目描述</a>

一天，Bessie在眺望美丽的威斯康星的群山的时候，她突然产生了疑问：那座山是最宽的？

她决定在地平线上，利用她的新式大量程山峰高度测量仪依次做N (1 <= N <= 10,000)次高度测量，每次的高度值为H_i (1 <= H_i <= 1,000,000,000)。

一座山定义为一段连续的高度序列，序列中的高度一开始单调上升（或者不变），然后单调下降（或者不变）。举例来说，2, 3, 3, 5, 4,  4, 1这一段高度序列就是一座山。如果在她的视线范围内有一段单调上升或者单调下降的序列，也算是一座山。注意，两座山之间可能会有部分重叠。

山的宽度定义为在这个山上进行的测量的次数（也就是序列的长度）。例如序列2, 3, 3, 5, 4, 4, 1的宽度为7。

请帮Bessie找到最宽的山。

下图是一个比较典型的的例子：

\*\*\*\*\*\*\*                   *

------

------

***********           *********               *

\*      \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*       \*\*\*\*\*\*\*\*\*\*\*             *** *

**    \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*     \*\*\*\*\*\*\*\*\*\*\*\*\*   * *     \*\*\*\*\*\*\*      *    山的形状

------

3211112333677777776543332111112344456765432111212111112343232111111211   高度值

aaaaa                     cccccccccccccccccccc eeeeeee    ggggggggg

bbbbbbbbbbbbbbbbbbbbbbbbbbbb             ddddd ffffffffff  hhhhhhhhh   山的编号

山标记为'a', 'b'等等。显然，山b有着最大的宽度，宽度为28。

### <a name="输入格式">输入格式</a>

第1行: 一个单独的整数: N

第2到第N+1行: 第i+1行包含一个单独的整数: H_i

### <a name="输出格式">输出格式</a>

第1行: 一个单独的整数，表示最宽的山的宽度。

### <a name="输入输出样例">输入输出样例</a>

#### 输入 #1

```c++
7
3
2
3
5
4
1
6
```

#### 输出 #1

```c++
5
```

### <a name="说明/提示">说明/提示</a>

[样例说明]

在最宽的山处测量到的高度为2, 3, 5, 4, 1. 其他的山包括3, 2和1, 6。

提示：

如果你知道一座山的最高的部分（也就是山峰），你会发现，找到这座山的宽度是很容易的哦。

### <a name="C++代码">C++代码</a>

```c++
#include <iostream>
using namespace std;

int main() {
    int n, l, r, ans = 1;
    cin >> n;
    long long h[n];
    for (int i=0; i<n; ++i)
        cin >> h[i];
    for (int i=0; i<n; ++i) {
        l = r = i;
        while (l>0 && h[l-1] <= h[l])
            --l;
        while (r<n && h[r+1] <= h[r])
            ++r;
        ans = max(ans, r-l+1);
    }
    cout << ans << endl;
    return 0;
}
```