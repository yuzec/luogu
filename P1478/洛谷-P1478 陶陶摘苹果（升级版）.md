# 洛谷-P1478 陶陶摘苹果（升级版）

> 原题链接：https://www.luogu.com.cn/problem/P1478

- [题目描述](#题目描述)
- [输入格式](#输入格式)
- [输出格式](#输出格式)
- [输入输出样例](#输入输出样例)
- [说明/提示](#说明/提示)
- [C++代码](#C++代码)

---

### <a name="题目描述">题目描述</a>

又是一年秋季时，陶陶家的苹果树结了 n 个果子。陶陶又跑去摘苹果，这次他有一个 a 公分的椅子。当他手够不着时，他会站到椅子上再试试。

这次与 NOIp2005 普及组第一题不同的是：陶陶之前搬凳子，力气只剩下 s 了。当然，每次摘苹果时都要用一定的力气。陶陶想知道在 s<0 之前最多能摘到多少个苹果。

现在已知 n 个苹果到达地上的高度 $x_i$，椅子的高度 a，陶陶手伸直的最大长度 b，陶陶所剩的力气 s，陶陶摘一个苹果需要的力气 $y_i$，求陶陶最多能摘到多少个苹果。

### <a name="输入格式">输入格式</a>

第 1 行：两个数 苹果数 n，力气 s。

第 2 行：两个数 椅子的高度 a，陶陶手伸直的最大长度 b。

第 3 行~第 3+n−1 行：每行两个数 苹果高度 $x_i$，摘这个苹果需要的力气 $y_i$。

### <a name="输出格式">输出格式</a>

只有一个整数，表示陶陶最多能摘到的苹果数。

### <a name="输入输出样例">输入输出样例</a>

#### 输入 #1

```c++
8 15
20 130
120 3
150 2
110 7
180 1
50 8
200 0
140 3
120 2
```

#### 输出 #1

```c++
4
```

### <a name="说明/提示">说明/提示</a>

对于100%的数据，n&le;5000，a&le;50，b&le;200，s&le;1000，$x_i$&le;280，$y_i$&le;100。

### <a name="C++代码">C++代码</a>

```c++
#include <iostream>
using namespace std;

int main() {
    int n,s,a,b,i,j,ans=0;
    cin>>n>>s>>a>>b;
    int x[n],y[n];
    for(i=0;i<n;++i)
        cin>>x[i]>>y[i];
    for(i=0;i<n;++i)
        for(j=i+1;j<n;++j)
            if(y[i]>y[j]) {
                swap(y[i],y[j]);
                swap(x[i],x[j]);
            }
    for(i=0;i<n;++i)
        if(x[i]<=a+b&&s>=y[i]) {
            s-=y[i];
            ++ans;
        }
    cout<<ans<<endl;
    return 0;
}
```