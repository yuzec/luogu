# 洛谷-P2670 扫雷游戏

> 原题链接：https://www.luogu.com.cn/problem/P2670

- [题目描述](#题目描述)
- [输入格式](#输入格式)
- [输出格式](#输出格式)
- [输入输出样例](#输入输出样例)
- [说明/提示](#说明/提示)
- [C++代码](#C++代码)

---

### <a name="题目描述">题目描述</a>

扫雷游戏是一款十分经典的单机小游戏。在$n$行$m$列的雷区中有一些格子含有地雷（称之为地雷格），其他格子不含地雷（称之为非地雷格）。玩家翻开一个非地雷格时，该格将会出现一个数字——提示周围格子中有多少个是地雷格。游戏的目标是在不翻出任何地雷格的条件下，找出所有的非地雷格。

现在给出$n$行$m$列的雷区中的地雷分布，要求计算出每个非地雷格周围的地雷格数。

注：一个格子的周围格子包括其上、下、左、右、左上、右上、左下、右下八个方向上与之直接相邻的格子。

### <a name="输入格式">输入格式</a>

第一行是用一个空格隔开的两个整数$n$和$m$，分别表示雷区的行数和列数。

接下来$n$行，每行$m$个字符，描述了雷区中的地雷分布情况。字符’*’表示相应格子是地雷格，字符’?’表示相应格子是非地雷格。相邻字符之间无分隔符。

### <a name="输出格式">输出格式</a>

输出文件包含$n$行，每行$m$个字符，描述整个雷区。用’*’表示地雷格，用周围的地雷个数表示非地雷格。相邻字符之间无分隔符。

### <a name="输入输出样例">输入输出样例</a>

#### 输入 #1

```c++
3 3
*??
???
?*?
```

#### 输出 #1

```c++
*10
221
1*1
```

#### 输入 #2

```c++
2 3
?*?
*??
```

#### 输出 #2

```c++
2*1
*21
```

### <a name="说明/提示">说明/提示</a>

对于 $100\%$的数据， $1≤n≤100, 1≤m≤100$。

### <a name="C++代码">C++代码</a>

```c++
#include <iostream>
using namespace std;

int main() {
    int n, m;
    int dir[][2] = {{-1, -1}, {-1, 0}, {-1, 1},
        {0, -1}, {0, 1}, {1, -1}, {1, 0}, {1, 1}};
    cin >> n >> m;
    char a[n][m];
    int ans[n][m];
    for (int i=0; i<n; ++i)
        for (int j=0; j<m; ++j)
            cin >> a[i][j];
    for (int i=0; i<n; ++i)
        for (int j=0; j<m; ++j)
            if (a[i][j] == '*')
                ans[i][j] = -1;
            else {
                ans[i][j] = 0;
                for (int k=0; k<8; ++k) {
                    int ii = i+dir[k][0];
                    int jj = j+dir[k][1];
                    if (ii<0 || ii>n-1 || jj<0 || jj>m-1)
                        continue;
                    if (a[ii][jj] == '*')
                        ++ans[i][j];
                }
            }
    for (int i=0; i<n; ++i) {
        for (int j=0; j<m; ++j) {
            if (ans[i][j] == -1)
                cout << '*';
            else
                cout << ans[i][j];
        }
        cout << endl;
    }
    return 0;
}
```