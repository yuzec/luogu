# 洛谷-P3654 First Step (ファーストステップ)

> 原题链接：https://www.luogu.com.cn/problem/P3654

- [题目背景](#题目背景)
- [题目描述](#题目描述)
- [输入格式](#输入格式)
- [输出格式](#输出格式)
- [输入输出样例](#输入输出样例)
- [说明/提示](#说明/提示)
- [C++代码](#C++代码)

---

### <a name="题目背景">题目背景</a>

**知らないことばかりなにもかもが（どうしたらいいの？）**

**一切的一切 尽是充满了未知数（该如何是好）**

**それでも期待で足が軽いよ（ジャンプだ！）**

**但我仍因满怀期待而步伐轻盈（起跳吧！）**

**温度差なんていつか消しちゃえってね**

**冷若冰霜的态度 有朝一日将会消失得无影无踪**

**元気だよ元気をだしていくよ**

**拿出活力 打起精神向前迈进吧**

![img](https://cdn.luogu.com.cn/upload/pic/4471.png)

我们Aqours，要第一次举办演唱会啦！

虽然学生会长看上去不怎么支持我们的样子，可是有了理事长的支持，我们还是被允许在校内的篮球场里歌唱！

歌曲也好好地准备过了，名字叫“[最喜欢的话就没问题！ (ダイスキだったらダイジョウブ！)](https://zh.moegirl.org/最喜欢的话就没问题)“，大家一定会喜欢的吧！

演唱会一定会顺利进行的！

希望不要发生**停电**什么的事故哦……！

### <a name="题目描述">题目描述</a>

可是……这个篮球场，好像很久没有使用过的样子啊……

里面堆满了学校的各种杂物呢……

我们Aqours的成员要怎么在里面列队站下呢？

我们浦之星女子学院的篮球场是一个R行C列的矩阵，其中堆满了各种学校的杂物 (用"#"表示)，空地 (用"."表示) 好像并不多的样子呢……

我们Aqours现在已经一共有K个队员了，要歌唱舞蹈起来的话，我们得排成一条1*K的直线，一个接一个地站在篮球场的空地上呢 (横竖均可)。

我们想知道一共有多少种可行的站位方式呢。

Aqours的真正的粉丝的你，能帮我们算算吗？

### <a name="输入格式">输入格式</a>

第一行三个整数 R, C, K。

接下来的R行C列，是浦之星女子学院篮球场。

### <a name="输出格式">输出格式</a>

总共的站位方式数量。

### <a name="输入输出样例">输入输出样例</a>

#### 输入 #1

```c++
5 5 2
.###.
##.#.
..#..
#..#.
#.###
```

#### 输出 #1

```c++
8
```

### <a name="说明/提示">说明/提示</a>

```cpp
          R        C          K         备注
1-2      <=10     <=10       <=min(R,C)  无
3-4      <=100    <=100      1           无        
5-6      <=100    <=100      <=min(R,C)  没有障碍
7-10     <=100    <=100      <=min(R,C)  无
```

**以下是彩蛋**

在LoveLive!Sunshine!!动画第一季第三集中，Aqours队长高海千歌演唱“最喜欢的话就没问题！”到副歌前时，学校因为雷击停电。

### <a name="C++代码">C++代码</a>

```c++
#include <iostream>
using namespace std;

int main() {
    int r, c, k, flag, ans=0;
    cin >> r >> c >> k;
    char a[r][c];
    for (int i=0; i<r; ++i)
        for (int j=0; j<c; ++j)
            cin >> a[i][j];
    for (int i=0; i<r; ++i)
        for (int j=0; j<c; ++j) {
            flag = 1;
            for (int m=0; m<k; ++m)
                if (i+m >= r || a[i+m][j] == '#') {
                    flag = 0;
                    break;
                }
            ans += flag;
            flag = 1;
            for (int m=0; m<k; ++m)
                if (j+m >= c || a[i][j+m] == '#') {
                    flag = 0;
                    break;
                }
            ans += flag;
        }
    if (k == 1)
        ans /= 2;
    cout << ans << endl;
    return 0;
}
```