# 洛谷-P1044 栈

> 原题链接：https://www.luogu.com.cn/problem/P1044

- [题目背景](#题目背景)
- [题目描述](#题目描述)
- [输入格式](#输入格式)
- [输出格式](#输出格式)
- [输入输出样例](#输入输出样例)
- [C++代码](#C++代码)

---

### <a name="题目背景">题目背景</a>

栈是计算机中经典的数据结构，简单的说，栈就是限制在一端进行插入删除操作的线性表。

栈有两种最重要的操作，即 pop（从栈顶弹出一个元素）和 push（将一个元素进栈）。

栈的重要性不言自明，任何一门数据结构的课程都会介绍栈。宁宁同学在复习栈的基本概念时，想到了一个书上没有讲过的问题，而他自己无法给出答案，所以需要你的帮忙。

### <a name="题目描述">题目描述</a>

![img](https://cdn.luogu.com.cn/upload/pic/18.png)

宁宁考虑的是这样一个问题：一个操作数序列，$1,2,\ldots ,n$（图示为 1 到 3 的情况），栈 A 的深度大于 $n$。

现在可以进行两种操作，

1. 将一个数，从操作数序列的头端移到栈的头端（对应数据结构栈的 push 操作）
2. 将一个数，从栈的头端移到输出序列的尾端（对应数据结构栈的 pop 操作）

使用这两种操作，由一个操作数序列就可以得到一系列的输出序列，下图所示为由 `1 2 3` 生成序列 `2 3 1` 的过程。

![img](https://cdn.luogu.com.cn/upload/pic/19.png)

（原始状态如上图所示）

你的程序将对给定的 $n$，计算并输出由操作数序列 $1,2,\ldots,n$ 经过操作可能得到的输出序列的总数。

### <a name="输入格式">输入格式</a>

输入文件只含一个整数 $n$（$1 \leq n \leq 18$）。

### <a name="输出格式">输出格式</a>

输出文件只有一行，即可能输出序列的总数目。

### <a name="输入输出样例">输入输出样例</a>

#### 输入 #1

```c++
3
```

#### 输出 #1

```c++
5
```

### <a name="C++代码">C++代码</a>

```c++
#include <iostream>
using namespace std;

int n, a[20][20];

int solve(int ol, int il) {
    if (a[ol][il] != 0)
        return a[ol][il];
    if (ol == n || il == 0)
        a[ol][il] = 1;
    else if (ol + il == n)
        a[ol][il] = solve(ol, il-1);
    else
        a[ol][il] = solve(ol+1, il) + solve(ol, il-1);
    return a[ol][il];
}

int main() {
    cin >> n;
    cout << solve(0, n) << endl;
    return 0;
}
```